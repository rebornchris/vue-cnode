webpackJsonp([2,0],[function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var n=a(41),i=s(n),o=a(109),r=s(o),c=a(177),l=s(c),u=a(77),d=s(u),f=a(176),h=s(f);a(74),a(75),i.default.use(r.default),i.default.use(d.default),i.default.use(l.default);var p=new r.default({routes:h.default});new i.default({el:"#app",template:"<router-view></router-view>",router:p})},,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(153),i=s(n),o=a(39),r=s(o),c=a(6),l=function(t,e,a){return new r.default(function(s,n){var o=new XMLHttpRequest;if(o.onload=function(){o.status>=200&&o.status<400?s(JSON.parse(o.responseText)):n()},o.onerror=function(){n("服务器异常")},"get"===t)o.open("GET",e,!0),o.send();else if("post"===t){var r=" ";a&&((0,i.default)(a).forEach(function(t){r+="&"+t+"="+a[t]}),r=r.substring(1)),o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(r)}})},u=function(t,e,a){if(e&&t){var s=t.data;e.$message.error(s.success===!1?s.error_msg:"服务器异常"),"function"==typeof a&&a()}},d={get:function(t){var e=document.cookie,a=encodeURIComponent(t)+"=",s=e.indexOf(a),n=null;if(s>-1){var i=e.indexOf(";",s);i===-1&&(i=e.length),n=decodeURIComponent(e.substring(s+a.length,i))}return n},set:function(t,e,a,s,n,i){var o=encodeURIComponent(t)+"="+encodeURIComponent(e);a instanceof Date&&(o+="; expires="+a.toGMTString()),s&&(o+="; path="+s),n&&(o+="; domain="+n),i&&(o+="; secure"),document.cookie=o},unset:function(t,e,a,s){console.log(123+e),d.set(t,"",e,a,s)}},f=function(t){return new r.default(function(e,a){var s=l("get",c.API.messageCount+"?accesstoken="+t);s.then(function(t){t.success?e(t.data):a(t.error_msg)},function(){a("获取未读信息失败")})})},h=function(t){return new r.default(function(e,a){var s=t||d.get("token");if(!s)return void e(null);var n=l("post",c.API.interface+"accesstoken",{accesstoken:s});n.then(function(n){if(n.success){if(t){var i=new Date;i.setTime(i.getTime()+6048e5),d.set("token",t,i)}f(s).then(function(t){n.notifiesCount=t,n.accesstoken=s,e(n)},function(t){a(t)})}else a(n.error_msg)},function(){a("getHost：服务器异常")})})},p=function(){var t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=document.createElement("div"),a=void 0;return(0,i.default)(t).every(function(s){return void 0===e.style[s]||(a=t[s],!1)}),a},v=function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth(),n=e.getDate(),i=e.getHours(),o=e.getMinutes(),r=s+1<10?"0"+(s+1):s+1,c=n+1<10?"0"+n:n,l=i+1<=10?"0"+i:i,u=o+1<=10?"0"+o:o;return a+"-"+r+"-"+c+"  "+l+":"+u},m=function(t){var e=new Date(t),a=(new Date-e)/1e3,s=Math.floor(a/3600/24/30),n=Math.floor(a/3600/24),i=Math.floor(a/3600),o=void 0;return o=0===i?Math.floor(a/60)+" 分钟前":0===n?i+" 小时前":0===s?n+" 天前":s+" 月前"};e.default={getAnimEventName:p,handleAjaxError:u,getHost:h,CookieUtil:d,timeFormat:v,timeFormatCN:m}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={top:"置顶",good:"精华",ask:"问答",share:"分享",job:"招聘"},s={ask:"问答",share:"分享",job:"招聘"},n="https://cnodejs.org/api/v1/",i={user:"admin",password:"admin"},o={interface:n,getUserById:n+"user/",topics:n+"topics",topicCollect:n+"topic_collect/",collect:n+"topic_collect/collect",deCollect:n+"topic_collect/de_collect",topic:n+"topic/",topicUpdate:n+"topics/update",replyUps:n+"reply/",messageCount:n+"message/count",messages:n+"messages",messageMarkAll:n+"message/mark_all"};e.ArticleMap=a,e.ArticleCategory=s,e.API=o,e.user_pass=i,e.login_token=login_token},,,,,,,,,,,,,,,,,,,function(t,e,a){a(62);var s=a(1)(a(160),a(93),null,null);t.exports=s.exports},function(t,e,a){a(64);var s=a(1)(a(166),a(95),null,null);t.exports=s.exports},,,,,,,,,,,,,,function(t,e,a){var s=a(1)(a(159),a(107),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(157),i=s(n),o=a(151),r=s(o);a(60);var c=a(76),l={spellChecker:!1,status:!1,autoDownloadFontAwesome:!1},u=function(t){var e=(0,r.default)({},l,"object"===("undefined"==typeof t?"undefined":(0,i.default)(t))&&t);return new c(e)};e.default=u},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nODRweCcgaGVpZ2h0PSc4NHB4JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIgY2xhc3M9InVpbC1kZWZhdWx0Ij48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0ibm9uZSIgY2xhc3M9ImJrIj48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjMDBiMmZmJyB0cmFuc2Zvcm09J3JvdGF0ZSgwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMHMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzAwYjJmZicgdHJhbnNmb3JtPSdyb3RhdGUoMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjA4MzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjMDBiMmZmJyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMTY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyMwMGIyZmYnIHRyYW5zZm9ybT0ncm90YXRlKDkwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4yNXMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzAwYjJmZicgdHJhbnNmb3JtPSdyb3RhdGUoMTIwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4zMzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjMDBiMmZmJyB0cmFuc2Zvcm09J3JvdGF0ZSgxNTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjQxNjY2NjY2NjY2NjY2NjdzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyMwMGIyZmYnIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNXMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzAwYjJmZicgdHJhbnNmb3JtPSdyb3RhdGUoMjEwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC41ODMzMzMzMzMzMzMzMzM0cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjMDBiMmZmJyB0cmFuc2Zvcm09J3JvdGF0ZSgyNDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyMwMGIyZmYnIHRyYW5zZm9ybT0ncm90YXRlKDI3MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNzVzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyMwMGIyZmYnIHRyYW5zZm9ybT0ncm90YXRlKDMwMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuODMzMzMzMzMzMzMzMzMzNHMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzAwYjJmZicgdHJhbnNmb3JtPSdyb3RhdGUoMzMwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC45MTY2NjY2NjY2NjY2NjY2cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PC9zdmc+"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAA0ElEQVR4Ac3QwUqEQBzH8Rmbezgby7LIdne8iSG9hM/hI9qp3iEkIrqZ2sxRxEPya6xJmEKY9iDO9zQ/+Fz+BP/sXPDneTr7LYM9uWQiEpHPDm7gmTwe5IO8f7p6cQMguMYbKgRwBgGqLQCPXJhoeZpAeSJ03rxfwGehuLn9Lk7zbJCDzLM4/dlC4TMLvOpDdqp7/6rtFUaMvepas6jpyBbAHneoUZkafOia+V+jwM4GFByB6YgEjS7Bcd446Mpn3T7gKHTcHVDsdHQBOLYa+ATu9qwg30/YdgAAAABJRU5ErkJggg=="},function(t,e,a){t.exports=a.p+"static/img/logo2.3d8d297.jpg"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,a){a(72);var s=a(1)(a(158),a(105),"data-v-abf72972",null);t.exports=s.exports},function(t,e,a){a(66);var s=a(1)(a(161),a(97),null,null);t.exports=s.exports},function(t,e,a){a(68);var s=a(1)(a(162),a(99),"data-v-45ea35f0",null);t.exports=s.exports},function(t,e,a){a(70);var s=a(1)(a(163),a(101),"data-v-6b6cec8d",null);t.exports=s.exports},function(t,e,a){a(69);var s=a(1)(a(164),a(100),"data-v-4b73245e",null);t.exports=s.exports},function(t,e,a){a(63);var s=a(1)(a(165),a(94),"data-v-1bdbd49b",null);t.exports=s.exports},function(t,e,a){a(65);var s=a(1)(a(167),a(96),"data-v-3522c2ea",null);t.exports=s.exports},function(t,e,a){a(61);var s=a(1)(a(168),a(92),null,null);t.exports=s.exports},function(t,e,a){a(73);var s=a(1)(a(169),a(108),"data-v-f96887c4",null);t.exports=s.exports},function(t,e,a){var s=a(1)(a(170),a(102),null,null);t.exports=s.exports},function(t,e,a){a(71);var s=a(1)(a(171),a(104),null,null);t.exports=s.exports},function(t,e,a){a(67);var s=a(1)(a(172),a(98),"data-v-3fc1e120",null);t.exports=s.exports},function(t,e,a){var s=a(1)(a(173),a(106),null,null);t.exports=s.exports},function(t,e,a){var s=a(1)(a(174),a(103),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal postModal"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.close(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("发布文章")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("span",{staticClass:"post__label"},[t._v("类型：")]),t._v(" "),a("div",{staticClass:"post__types"},t._l(t.categories,function(e,s){return a("span",{class:t.selectedCategory===s?"active":"",attrs:{"data-type":s},on:{click:function(e){t.selectType(e)}}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"post","aria-hidden":"true"}}),t._v(" "),a("textarea",{attrs:{name:"post",id:"post"}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:"posting"===t.state},on:{click:function(e){t.post(e)}}},[t._v("\n          "+t._s("posting"===t.state?"发布中...":"发布")+"\n      ")])])])])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"action-btn",on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave}},[s("a",{staticClass:"action-btn__link action-btn__plus",on:{click:t.backToTop}},[s("img",{attrs:{src:a(58),alt:""}})]),t._v(" "),s("ul",["topic"===this.$route.name?s("li",[s("a",{staticClass:"tooltips tooltips--left action-btn__link action-btn__reply",attrs:{href:"#","aria-label":"回复"},on:{click:function(e){e.preventDefault(),t.toggleModal("reply")}}},[s("i",{staticClass:"fa fa-reply fa-lg",attrs:{"aria-hidden":"true"}})])]):t._e(),t._v(" "),s("li",[s("a",{staticClass:"tooltips tooltips--left action-btn__link action-btn__post",attrs:{href:"#","aria-label":"发布文章"},on:{click:function(e){e.preventDefault(),t.toggleModal("post")}}},[s("i",{staticClass:"fa fa-pencil fa-lg",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),s("div",{staticClass:"modal-container"},[s("post",{ref:"postModal",attrs:{show:t.showPostModal},on:{close:t.closeModal,post:t.post}}),t._v(" "),s("reply",{ref:"replyModal",attrs:{show:t.showReplyModal},on:{close:t.closeModal,reply:t.reply}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mini"},[a("h2",[t._v("沙发墙")]),t._v(" "),a("transition-group",{attrs:{name:"slide-fade"}},t._l(t.dd,function(e){return a("li",{key:e.id,staticClass:"mini-list"},[a("router-link",{attrs:{to:{path:"/topic/"+e.id},title:e.title}},[t._v(t._s(e.title))]),t._v(" "),a("i",{staticClass:"mini-reply clearfix"},[t._v(t._s(e.reply_count)+"回复")])],1)}))],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"globalnav globalnav--fixed",class:{"is-loading":t.isLoading}},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"globalnav__brand t-pull-left",attrs:{to:"/index"}},[t._v("知乎日报")]),t._v(" "),t._m(0),t._v(" "),a("ul",{staticClass:"globalnav__nav t-pull-right"},[t.host?t._e():a("li",{staticClass:"globalnav__link"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleMenu(1)}}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"globalnav__menu globalnav__loginFormMenu"},[a("loginForm",{attrs:{show:t.showLoginForm},on:{signIn:t.getHost}})],1)]),t._v(" "),t.host?a("li",{staticClass:"globalnav__link"},[a("router-link",{staticClass:"globalnav__avatar",attrs:{to:{path:"/user/"+t.host.loginname}}},[a("img",{attrs:{src:t.host.avatar_url}})])],1):t._e(),t._v(" "),t.host?a("li",{staticClass:"globalnav__link globalnav__link--withicon globalnav__notifies"},[a("a",{class:{"is-active":t.host.notifiesCount},attrs:{href:"#"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleMenu(2)}}},[a("i",{staticClass:"fa fa-envelope fa-lg",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",{staticClass:"globalnav__menu globalnav__notificationMenu"},[a("Notification",{attrs:{show:t.showNotification}})],1)]):t._e(),t._v(" "),a("li",{staticClass:"globalnav__link globalnav__link--withicon"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleMenu(3)}}},[a("i",{staticClass:"fa fa-ellipsis-h fa-lg",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",{staticClass:"globalnav__menu"},[a("transition",{attrs:{name:"menu-fade-slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMoreMenu,expression:"showMoreMenu"}],staticClass:"menu menu--arrowed moremenu"},[a("ul",[a("li",[a("a",{attrs:{href:"https://cnodejs.org/",target:"_blank"}},[t._v("官网")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/rebornchris/vue-cnode",target:"_blank"}},[t._v("项目地址")])]),t._v(" "),a("li",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.loginout(e)}}},[t._v("退出")])])])])])],1)])]),t._v(" "),a("ul",{staticClass:"globalnav__nav"},[t._t("default")],2)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"globalnav__spinner"},[s("img",{attrs:{src:a(57)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"menu-fade-slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"menu menu--arrowed notification"},[a("div",{staticClass:"notification__header"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.hasUnread,expression:"hasUnread"}],staticClass:"btn btn-info notification__markBtn",on:{click:function(e){e.stopPropagation(),t.markAll(e)}}},[t._v("批量处理")]),t._v(" "),a("span",{staticClass:"notification__title"},[t._v("通知")])]),t._v(" "),a("div",{staticClass:"notification__mask",class:"is-"+t.state},[a("div",{staticClass:"spinner"}),t._v(" "),a("div",{staticClass:"notification__feedback"},[a("p",[t._v(t._s(t.feedbackMsg[t.state]))])]),t._v(" "),a("div",{staticClass:"notification__cont"},[t.notifies&&t.notifies.length>0?a("ul",{staticClass:"list-unstyled",on:{mousewheel:function(e){e.stopPropagation(),t.scrollNotifies(e)}}},t._l(t.notifies,function(e){return a("li",{staticClass:"notification__item",class:{"is-unread":!e.has_read}},[a("img",{staticClass:"avatar avatar--s",attrs:{src:e.author.avatar_url,alt:""}}),t._v(" "),a("div",{staticClass:"notification__info"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname}}},[t._v("\n                "+t._s(e.author.loginname)+"\n              ")]),t._v("\n              回复了你的话题\n              "),a("router-link",{attrs:{to:{path:"/topic/"+e.topic.id}}},[t._v("\n                "+t._s(e.topic.title)+"\n              ")]),t._v(" "),a("div",{staticClass:"notification__replyTime"},[t._v("\n                "+t._s(t.formatReplyTime(e.topic.last_reply_at))+"\n              ")])],1)])})):t._e()])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments-container"},[a("div",{staticClass:"comments__num"},[a("span",[t._v(t._s(t.comments.length)+" 条评论")])]),t._v(" "),a("div",{staticClass:"comments__sort"},[a("div",{staticClass:"button-group"},[a("button",{staticClass:"btn",class:{"is-active":"normal"===t.sortBy},on:{click:function(e){t.sort("normal",e)}}},[t._v("默认")]),t._v(" "),a("button",{staticClass:"btn",class:{"is-active":"latest"===t.sortBy},on:{click:function(e){t.sort("latest",e)}}},[t._v("最新")]),t._v(" "),a("button",{staticClass:"btn",class:{"is-active":"ups"===t.sortBy},on:{click:function(e){t.sort("ups",e)}}},[t._v("赞数")])])]),t._v(" "),t.comments.length>0?a("div",[a("transition-group",{staticClass:"comments__list",attrs:{name:"cell",tag:"div"}},t._l(t.comments,function(e,s){return a("div",{key:e.id,staticClass:"comments__item clearfix"},[a("div",{staticClass:"comments__left"},[a("router-link",{attrs:{to:{path:"/user/"+e.author.loginname}}},[a("img",{staticClass:"avatar avatar--s",attrs:{src:e.author.avatar_url}})])],1),t._v(" "),a("div",{staticClass:"comments__right"},[a("router-link",{staticClass:"comments__author",attrs:{to:{path:"/user/"+e.author.loginname}}},[t._v("\n          "+t._s(e.author.loginname)+"\n        ")]),t._v(" "),a("div",{staticClass:"comments__cont",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),a("div",{staticClass:"comments__meta"},[a("span",[t._v(t._s(t.formatCreateTime(e.create_at)))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.ups&&e.ups.length>0,expression:"c.ups && c.ups.length > 0"}],staticStyle:{float:"right"}},[t._v(t._s(e.ups.length)+" 赞")]),t._v(" "),t.hasHost?a("a",{staticClass:"comments__ope-btn",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.handleUps(e)}}},[a("i",{staticClass:"fa fa-thumbs-o-up",attrs:{"aria-hidden":"true"}}),t._v(" 赞\n            ")]):t._e(),t._v(" "),t.hasHost?a("a",{staticClass:"comments__ope-btn",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.handleReply(e.author.loginname)}}},[a("i",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" 回复\n            ")]):t._e()])],1)])}))],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("ActionBtn",{attrs:{host:t.host}}),t._v(" "),a("GlobalNav",{attrs:{isLoading:t.isNavLoading},on:{ready:t.ready}},t._l(t.navs,function(e){return a("li",{staticClass:"globalnav__link",class:{"is-active":t.currType===e.tag}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.getArticleType(e.tag)}}},[t._v(t._s(e.name))])])})),t._v(" "),a("div",{staticClass:"page__main"},[a("div",{staticClass:"container"},[t.userData?a("div",[a("div",{staticClass:"profile-canopy"},[a("div",{staticClass:"profile__avatar"},[a("img",{attrs:{src:t.userData.avatar_url,alt:""}}),t._v(" "),a("div",{staticClass:"profile__meta"},[a("span",{staticClass:"profile-vcard__score"},[a("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}}),t._v("\n                "+t._s(t.userData.score)+"\n              ")]),t._v(" "),a("span",{staticClass:"profile-vcard__time"},[a("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),t._v("\n                "+t._s(t.formatCreateTime(t.userData.create_at))+"\n              ")])])]),t._v(" "),a("h2",{staticClass:"profile__name"},[t._v("\n            "+t._s(t.userData.loginname)+"\n          ")]),t._v(" "),a("h2",{staticClass:"profile__num"},[t._v(t._s(t.articles.length))])]),t._v(" "),a("div",{staticClass:"profile__content"},[t.articles&&t.articles.length>0?a("ArticleList",{attrs:{articles:t.articles}}):a("p",{staticClass:"page__feedback"},[t._v("\n            还没收藏文章\n          ")])],1)]):"false"!==t.isLoading||t.userData?t._e():a("div",{staticClass:"page__feedback"},[t._v("\n        用户不存在, "+t._s(t.time)+" 秒后跳转至首页\n      ")])])])],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"door-wrap"},[a("div",{staticClass:"door__row"},[t._m(0),t._v(" "),a("div",{staticClass:"door__loader"},[a("CircleLoading",{attrs:{circleStatus:t.circleState},on:{loaded:t.loaded}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"door__logo"},[s("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a(59),alt:"logo"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"menu-fade-slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"menu menu--arrowed loginFormMenu"},[a("form",{attrs:{role:"form"}},[a("div",{staticClass:"form-group loginFormMenu__cont"},[a("label",{staticClass:"sr-only",attrs:{for:"accesstoken"}},[t._v("accessToke")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"accesstoken",placeholder:"accesstoken"}})]),t._v(" "),a("span",{staticClass:"loginFormMenu__msg",class:{"is-error":t.msg}},[t._v(t._s(t.msg))]),t._v(" "),a("button",{staticClass:"btn btn-default loginFormMenu__btn",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.signIn(e)}}},[t._v("Sign in")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"svg-wrap"},[a("svg",{staticClass:"svg",attrs:{width:"60px",height:"60px",viewBox:"0 0 80 80"}},[a("path",{staticClass:"svg-bg",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}}),t._v(" "),a("path",{staticClass:"svg-circle",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("NavBar",{attrs:{isLoading:t.isLoading},on:{ready:t.ready}},[a("ActionBtn",{attrs:{host:t.host}}),t._v(" "),t._l(t.navs,function(e){return a("li",{staticClass:"globalnav__link",class:{"is-active":t.currenType===e.tag}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selectNav(e.tag)}}},[t._v(t._s(e.name))])])})],2),t._v(" "),a("div",{staticClass:"page_main"},[a("div",{staticClass:"container"},[a("Mini",{attrs:{dd:t.MiniList}}),t._v(" "),t.articles&&t.articles.length>0?a("div",{staticClass:"home-content"},[a("ArticleList",{attrs:{articles:t.articles}})],1):a("p",{staticClass:"page_feedback"},[t._v("\n\t\t\t\t\t\t暂无任何文章\n\t\t\t\t\t")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"message-slide",type:"animation","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutRight"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"message",class:"message--"+t.type,on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[a("button",{staticClass:"close message__closeBtn",attrs:{type:"button"},on:{click:t.close}},[a("i",{staticClass:"fa fa-times"})]),t._v(" "),a("div",{staticClass:"message__group"},[a("div",{staticClass:"message__icon"},[a("i",{staticClass:"fa fa-2x",class:t.typeIcon})]),t._v(" "),a("p",[t._v(t._s(t.message))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("GlobalNav",{on:{ready:t.ready}}),t._v(" "),a("ActionBtn",{ref:"actionBtn",attrs:{host:t.host,topicId:t.topicId},on:{afterReply:t.afterReply}}),t._v(" "),a("div",{staticClass:"page__main"},[a("div",{staticClass:"container"},[t.article?a("div",[a("VC-Article",{attrs:{article:t.article,collectState:t.collectState,editState:t.editState},on:{collect:t.handleCollect,edit:t.handleEdit}}),t._v(" "),a("Comments",{attrs:{comments:t.article.replies,hasHost:!!t.host},on:{reply:t.handleReply,ups:t.handleUps}})],1):void 0===t.article?a("div",{staticClass:"page__feedback"},[t._v("\n        文章不存在, "+t._s(t.time)+" 秒后跳转至首页\n      ")]):t._e()])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-container"},[a("article",[a("h1",{staticClass:"article__title"},[t._v(t._s(t.article.title))]),t._v(" "),a("div",{staticClass:"article__meta-wrap clearfix"},[a("div",{staticClass:"article__btn-wrap"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.editState,expression:"editState"}],staticClass:"article__edit-btn",on:{click:t.edit}},[a("i",{staticClass:"fa fa-pencil-square-o fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.collectState,expression:"collectState !== 0"}],staticClass:"article__like-btn",on:{click:t.collect}})]),t._v(" "),a("div",{staticClass:"article__author-wrap"},[a("router-link",{staticClass:"article__author",attrs:{to:{path:"/user/"+t.article.author.loginname}}},[a("img",{staticClass:"avatar avatar--s",attrs:{src:t.article.author.avatar_url}}),t._v("\n          "+t._s(t.article.author.loginname)+"\n        ")]),t._v(" "),a("span",{staticClass:"article__reply-time"},[t._v("\n          "+t._s(t.formatCreateTime(t.article.create_at))+"\n        ")]),t._v(" "),a("div",{staticClass:"article__meta"},[a("span",[a("i",{staticClass:"fa fa-eye"}),t._v("  "+t._s(t.article.visit_count)+" 访问\n        ")]),t._v(" "),a("span",[a("i",{staticClass:"fa fa-comment"}),t._v("  "+t._s(t.article.reply_count)+" 回复\n        ")])])],1)]),t._v(" "),a("div",{staticClass:"article__content",domProps:{innerHTML:t._s(t.article.content)}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Door",{attrs:{state:t.doorState},on:{ready:t.ready}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition-group",{attrs:{tag:"ul",name:"brief-list",appear:""}},t._l(t.articles,function(e){return a("li",{key:e.id,staticClass:"article-brief ",class:{"article-brief__top":"index"===t.name}},[a("router-link",{staticClass:"article-brief__avatar",attrs:{to:{path:"/user/"+e.author.loginname}}},[a("img",{staticClass:"avatar avatar--m",attrs:{src:e.author.avatar_url}})]),t._v(" "),a("div",{staticClass:"article-brief__group"},[a("h2",{staticClass:"article-brief__title"},[a("router-link",{attrs:{to:{path:"/topic/"+e.id},title:e.title}},[t._v(t._s(e.title))])],1),t._v(" "),a("div",{staticClass:"article-brief__tags"},[e.tab?a("span",{staticClass:"tag tag--blue"},[t._v(t._s(t.getTypeName(e.tab)))]):t._e()]),t._v(" "),a("div",{staticClass:"article-brief__meta"},["undefined"!=typeof e.reply_count?a("span",{staticClass:"article-brief__reply"},[a("i",{staticClass:"fa fa-comment"}),t._v("  "+t._s(e.reply_count)+" 回复\n      ")]):t._e(),t._v(" "),"undefined"!=typeof e.visit_count?a("span",{staticClass:"article-brief__view"},[a("i",{staticClass:"fa fa-eye"}),t._v("  "+t._s(e.visit_count)+" 访问\n      ")]):t._e(),t._v(" "),a("span",{staticClass:"article-brief__replyTime"},[t._v(t._s(t.replyTime(e.last_reply_at)))])])]),t._v(" "),a("div",{staticClass:"article-brief__ribbons"},[e.top?a("span",{staticClass:"ribbon ribbon--green"},[t._v("置顶")]):t._e(),t._v(" "),e.good?a("span",{staticClass:"ribbon ribbon--red"},[t._v("精华")]):t._e()])],1)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal postModal"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.close(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("回复")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"reply","aria-hidden":"true"}}),t._v(" "),a("textarea",{attrs:{name:"post",id:"reply"}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{disabled:"posting"===t.state},on:{click:function(e){t.reply(e)}}},[t._v("\n        "+t._s("posting"===t.state?"回复中...":"回复")+"\n      ")])])])])},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),i=s(n);e.default={data:function(){return{$likeBtn:null}},props:{article:{require:!0},collectState:{type:Number,default:0,validator:function(t){return t>=0&&t<=2}},editState:{type:Boolean,default:!1}},watch:{collectState:function(t){var e=this;this.$likeBtn||(this.$likeBtn=this.$el.querySelector(".article__like-btn")),1===t?(this.$likeBtn.classList.add("is-active","animating"),this.$likeBtn.addEventListener("animationend",function(){e.$likeBtn.classList.remove("animating")},!1)):2===t&&this.$likeBtn.classList.remove("is-active")}},methods:{formatCreateTime:function(t){return i.default.timeFormatCN(t)},collect:function(){this.$emit("collect")},edit:function(){this.$emit("edit")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),i=a(5),o=s(i);e.default={data:function(){return{name:this.$route.name}},props:{articles:{type:Array}},methods:{getTypeName:function(t){return n.ArticleMap[t]||""},replyTime:function(t){return o.default.timeFormatCN(t)}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n,i=a(156),o=s(i),r=a(86),c=s(r),l=a(85),u=s(l),d=a(5),f=s(d),h=a(6);e.default={data:function(){return{showReplyModal:!1,showPostModal:!1,state:"normal",editArticle:null
}},props:{topicId:null,host:{type:Object,default:null}},components:{reply:c.default,post:u.default},methods:(n={mouseenter:function(){this.$el.firstChild.classList.add("is-active")},backToTop:function(){var t=0,e=setInterval(function(){var a=Math.random();t+=a,document.body.scrollTop-=10*t,document.body.scrollTop<1&&clearInterval(e)},10)},mouseleave:function(){this.$el.firstChild.classList.remove("is-active")},toggleModal:function(t){var e=this.checkHost();"post"===t?this.showPostModal?this.$refs.postModal.close():e&&(this.showPostModal=!0):"reply"===t&&(this.showReplyModal?this.$refs.replyModal.close():e&&(this.showReplyModal=!0))},checkHost:function(){return!!this.host||(this.$message.info("请先登录！"),!1)},closeModal:function(t,e){"reply"===t&&(this.showReplyModal=!1),"post"===t&&(this.showPostModal=!1),"function"==typeof e&&e()},editArticle:function(t){console.log(12312),this.state="edit",this.$refs.postModal.setArticle(t),this.showPostModal=!0},setReply:function(t){this.$refs.replyModal.setReply(t),this.showReplyModal=!0},post:function(t){var e=this,a="edit"===this.state?h.API.topicUpdate:h.API.topics;"edit"===this.state&&(t.topic_id=this.article.topic_id),t.accesstoken=this.host.accesstoken,this.$http.post(a,t).then(function(t){var a=t.data;a.success?(e.$message.success("发布成功, 正在跳转到文章页"),e.$refs.postModal.close(),setTimeout(function(){e.$router.push({path:"/topic/"+a.topic_id})},2e3)):e.$message.error(a.error_msg)},function(t){console.log(234432),e.$refs.postModal.close(),f.default.handleAjaxError(t,e)})}},(0,o.default)(n,"editArticle",function(t){this.state="edit",this.$refs.postModal.setArticle(t),this.showPostModal=!0}),(0,o.default)(n,"setReply",function(t){this.$refs.replyModal.setReply(t),this.showReplyModal=!0}),(0,o.default)(n,"reply",function(t,e){var a=this,s={accesstoken:this.host.accesstoken,content:t};console.log(this.topicId),this.$http.post(""+h.API.topic+this.topicId+"/replies",s).then(function(t){var s=t.data;"function"==typeof e&&e(s.success),s.success?(a.$message.info("回复成功"),a.$emit("afterReply",function(){a.toggleModal("reply")})):a.$message.error(s.error_msg)},function(t){var s=response.data;f.default.handleAjaxError(t,a,function(){"function"==typeof e&&e(s.success)})})}),n)}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),i=s(n);e.default={data:function(){return{sortBy:""}},props:{comments:{type:Array,default:[]},hasHost:{type:Boolean,default:!1}},methods:{formatCreateTime:function(t){return i.default.timeFormat(t)},handleUps:function(t){var e=this;t.ups=t.ups||[],this.$emit("ups",t.id,function(a){"up"===a.action?(e.$message.success("成功点赞"),t.ups.push(null)):"down"===a.action&&(e.$message.success("成功取消点赞"),t.ups.shift())})},handleReply:function(t){this.$emit("reply","@"+t)},sort:function(t,e){var a=this;if(this.comments&&this.comments.length>0){var s=e.target;if(s.classList.contains("is-active"))return;this.comments.sort(function(e,s){return a.sortBy=t,"normal"===t||"latest"===t?"normal"===t?new Date(e.create_at)-new Date(s.create_at):new Date(s.create_at)-new Date(e.create_at):"ups"===t?s.ups.length-e.ups.length:new Date(e.create_at)-new Date(s.create_at)})}}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),i=s(n),o=a(81),r=s(o);e.default={data:function(){return{animated:!1,circleState:"",animEventName:""}},components:{CircleLoading:r.default},props:{state:{type:String,default:"hide"}},watch:{state:function(t){this.circleState=t}},mounted:function(){var t=this;this.animEventName=i.default.getAnimEventName();var e=function e(){t.animEventName&&t.$el.removeEventListener(t.animEventName,e),t.$emit("ready")};this.$el.classList.add("loading"),this.animEventName?this.$el.addEventListener(this.animEventName,e,!1):e()},methods:{loaded:function(){this.$el.classList.remove("loading"),this.$el.classList.add("loaded")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{$circle:null,totalLen:0,preLoading:!1}},props:{circleStatus:{default:"start"}},mounted:function(){this.$circle=this.$el.querySelector(".svg-circle"),this.totalLen=this.$circle.getTotalLength(),this.init()},watch:{circleStatus:function(t){switch(t){case"start":this.startLoading();break;case"end":this.preLoading&&this.endLoading();break;case"init":this.init();break;default:return}}},methods:{init:function(){this.$circle.style.strokeDasharray=this.$circle.style.strokeDashoffset=this.totalLen},startLoading:function(){var t=this,e=0,a=window.setInterval(function(){e=Math.min(e+.1*Math.random(),1),console.log(e),t.draw(e),1-e<=.3&&(window.clearInterval(a),t.preLoading=!0,t.circleStatus="end","end"===t.circleStatus&&t.endLoading())},80)},draw:function(t){this.$circle.style.strokeDashoffset=this.totalLen*(1-t)},endLoading:function(){var t=this;this.preLoading=!1,this.draw(1),window.setTimeout(function(){t.$emit("loaded")},500)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{$input:null,clicked:!1,msg:""}},props:{show:{type:Boolean,default:!1}},watch:{show:function(t){t||(this.msg="",this.$input&&(this.$input.value=""))}},methods:{signIn:function(){!this.$input&&(this.$input=document.getElementById("accesstoken")),this.clicked=!0;var t=this.clicked,e=this.$input.value;this.$emit("signIn",e,t)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{dd:{type:Array}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),i=s(n),o=a(82),r=s(o),c=a(84),l=s(c);a(6);e.default={data:function(){return{host:null,flag1:!1,showLoginForm:!1,showMoreMenu:!1,showNotification:!1}},props:{isLoading:{type:Boolean,default:!1}},components:{loginForm:r.default,Notification:l.default},mounted:function(){var t=this;this.getHost(),document.documentElement.addEventListener("click",function(e){var a=e.target,s=!1;if(t.showNotification||t.showLoginForm||t.showMoreMenu){var n=void 0;for(n=t.showNotification?"globalnav__notificationMenu":t.showLoginForm?"globalnav__loginFormMenu":"globalnav__moreMenu";a;){if(a.classList&&a.classList.contains(n)){s=!0;break}a=a.parentNode}s||(t.showNotification?t.showNotification=!1:t.showLoginForm?t.showLoginForm=!1:t.showMoreMenu=!1)}},!1)},methods:{getHost:function(t,e){var a=this;if(this.flag1=e,""===t)return void this.$message.error("不能为空");var s=i.default.getHost(t);s.then(function(t){a.host=t,"undefined"!=typeof e&&a.$message.success("成功登录"),a.showLoginForm=!1,setTimeout(function(){a.$emit("ready",t)},1e3)},function(t){a.host=null,a.$message.error("服务器错误"),console.log(t)})},toggleMenu:function(t){switch(t){case 1:this.showNotification=!1,this.showMoreMenu=!1,this.showLoginForm=!this.showLoginForm;break;case 2:this.showLoginForm=!1,this.showMoreMenu=!1,this.showNotification=!this.showNotification;break;case 3:this.showNotification=!1,this.showLoginForm=!1,this.showMoreMenu=!this.showMoreMenu;break;default:return}},loginout:function(){null!==this.host?(this.host=null,this.$message.success("成功退出"),i.default.CookieUtil.set("token","","")):this.$message.error("尚未登录")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),i=a(5),o=s(i);a(175);e.default={data:function(){return{state:"loading",notifies:null,unread:null,read:null,hasUnread:!1,feedbackMsg:{error:"服务器异常，稍后再试",none:"暂无任何消息"}}},props:{show:{type:Boolean,default:!1}},watch:{show:function(t){var e=this;t&&(this.state="loading",setTimeout(function(){e.getMessage()},1e3))}},methods:{formatReplyTime:function(t){return o.default.timeFormatCN(t)},getMessage:function(t){var e=this,a=o.default.CookieUtil.get("token");this.$http.get(n.API.messages+"?accesstoken="+a+"&mdrender=false").then(function(a){var s=a.data;if(s.success){var n=s.data;if(e.unread=n.hasnot_read_messages,e.read=n.has_read_messages,e.hasUnread=e.unread instanceof Array&&e.unread.length>0,0===e.unread.length&&0===e.read.length)return void(e.state="none");e.notifies=e.unread.concat(e.read),e.state="success"}else e.state="error";"function"==typeof t&&t()},function(){e.hasUnread=!1,e.state="error"})},markAll:function(t){var e=this,a=t.target;if(!a.classList.contains("disabled")){a.classList.add("disabled"),a.disabled=!0,a.innerText="处理中...";var s=o.default.CookieUtil.get("token");this.$http.post(n.API.messageMarkAll,{accesstoken:s}).then(function(t){var s=t.data;s.success?(e.state="loading",setTimeout(function(){e.getMessage(function(){a.classList.remove("disabled"),a.disabled=!1,a.innerText="批量处理",e.$emit("markedAll")})},1e3)):e.$message.error(s.error_msg?s.error_msg:"操作失败")},function(t){o.default.handleAjaxError(t,e)})}},scrollNotifies:function(t){var e=t.currentTarget,a=t.wheelDelta||-t.detail,s=a>0?"up":"down",n=e.parentNode.parentNode,i="up"===s&&0===n.scrollTop||"down"===s&&n.scrollTop===e.scrollHeight-n.offsetHeight;i&&t.preventDefault()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),i=a(56),o=s(i);e.default={data:function(){return{mde:null,categories:n.ArticleCategory,selectedCategory:"ask",title:"",state:"ready"}},props:{show:{type:Boolean,default:!1},article:{type:Object,default:null}},watch:{show:function(t){t&&!this.mde&&(this.mde=(0,o.default)({element:document.getElementById("post")}))},article:function(t){t&&(this.selectedCategory=t.tab,this.title=t.title,this.mde.value(t.content))}},methods:{close:function(){var t=this;this.$emit("close","post",function(){t.state="ready",t.selectedCategory="",t.title="",t.mde&&t.mde.value("")})},setArticle:function(t){var e=this;this.state="ready",this.selectedCategory=t.tab,this.title=t.title,this.mde||(this.mde=(0,o.default)({element:document.getElementById("post")})),setTimeout(function(){e.mde.value(t.content)})},selectType:function(t){this.selectedCategory=t.target.dataset.type},post:function(){if("posting"!==this.state){var t=this.mde.value();if(!this.selectedCategory)return void this.$message.error("类型不能为空");if(!this.title)return void this.$message.error("标题不能为空");if(!t)return void this.$message.error("内容不能为空");var e={title:this.title,tab:this.selectedCategory,content:t};this.state="posting",this.$emit("post",e)}}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(56),i=s(n);e.default={data:function(){return{mde:null,state:"ready"}},props:{show:{type:Boolean,default:!1}},watch:{show:function(t){t&&!this.mde&&(this.mde=(0,i.default)({element:document.getElementById("reply")}))}},methods:{close:function(){var t=this;this.$emit("close","reply",function(){t.state="ready",t.mde&&t.mde.value("")})},setReply:function(t){var e=this;this.state="ready",this.mde||(this.mde=(0,i.default)({element:document.getElementById("reply")})),setTimeout(function(){e.mde.value(t)})},reply:function(){var t=this;if("posting"!==this.state){var e=this.mde.value();if(!e)return void this.$message.error("内容不能为空");this.state="posting",this.$emit("reply",e,function(){console.log("is replyed"),t.state="ready"})}}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(39),i=s(n),o=a(6),r=a(5),c=s(r),l=a(26),u=s(l),d=a(40),f=s(d),h=a(83),p=s(h),v=a(25),m=s(v);e.default={data:function(){var t=[{name:"全部",tag:"all"},{name:"精华",tag:"good"},{name:"分享",tag:"share"},{name:"问答",tag:"ask"},{name:"招聘",tag:"job"},{name:"测试",tag:"test"}];return{navs:t,doorState:"init",isLoading:!1,loadMoreType:0,isLoadingMore:!1,page:1,limit:0,currenType:"",articles:[],host:null,MiniList:[]}},components:{NavBar:u.default,ArticleList:f.default,Mini:p.default,ActionBtn:m.default},watch:{articles:function(t){this.MiniList=t.filter(function(t){return t.reply_count<1}),this.MiniList=this.MiniList.splice(-5)}},mounted:function(){var t=this;this.getArticleType(this.navs[0].tag,function(){t.addScrollEvt()})},methods:{ready:function(t){this.host=t},getArticleType:function(t,e){var a=this;this.fetchData(t).then(function(t){a.articles=t.data.data,a.currenType=t.type,a.page=t.page,"function"==typeof e&&e()},function(t){c.default.handleError(t,a)})},fetchData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n="?tab="+("all"===t?"":t)+"&page="+a+"&limit="+s,r=this;return this.isLoading=!0,new i.default(function(s,i){r.$http.get(o.API.topics+n).then(function(n){e.isLoading=!1,s({data:n.data,type:t,page:a})},function(t){i(t)})})},selectNav:function(t){var e=this;this.isLoading=!0,this.getArticleType(t,function(){e.isLoading=!1})},addScrollEvt:function(){var t=this,e=window.innerHeight,a=document.documentElement,s=document.body;this.scrollEv=function(){if(!t.isLoadingMore){var n=Math.max(a.clientHeight,a.scrollHeight),i=window.pageYOffset||s.scrollTop||a.scrollTop||0;if(i+e-n>=0){if(2===t.loadMoreType)return void window.removeEventListener("scroll",t.scrollEv);t.loadMore()}}},window.addEventListener("scroll",this.scrollEv,!1)},loadMore:function(){var t=this;this.isLoadingMore=!0,this.loadMoreType=0,setTimeout(function(){var e=t.page,a=t.limit;t.fetchData(t.currenType,e+=1,a=20).then(function(a){var s=a.data;if(s.success){var n=s.data;n instanceof Array&&n.length>0?t.articles=t.articles.concat(n):(t.loadMoreType=2,window.removeEventListener("scroll",t.scrollEV),console.log(123123)),t.page=e}else t.loadMoreType=1,c.default.handleAjaxError(s,t);t.isLoadingMore=!1},function(e){c.default.handleAjaxError(e,t),t.loadMoreType=1,t.isLoadingMore=!1})},1e3)}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(39),i=s(n),o=a(6),r=a(5),c=s(r),l=a(26),u=s(l),d=a(78),f=s(d),h=a(79),p=s(h),v=a(25),m=s(v);e.default={data:function(){return{isLoading:!1,time:3,host:null,topicId:0,article:null,collectState:0,editState:!1}},mounted:function(){this.init()},watch:{$route:function(){this.init()},host:function(t){var e=this;t&&(this.fetchData(this.topicId,t.accesstoken).then(function(t){e.collectState=t.is_collect?1:2},function(){e.collectState=0}),this.article&&(this.editState=this.host.loginname===this.article.author.loginname))}},components:{GlobalNav:u.default,"VC-Article":f.default,Comments:p.default,ActionBtn:m.default},methods:{ready:function(t){this.host=t},init:function(){var t=this;this.isLoading=!0,console.log("is loading");var e=this.$route.path;this.topicId=e.substring(e.lastIndexOf("/")+1),this.fetchData(this.topicId,this.host&&this.host.accesstoken).then(function(e){t.article=e,t.host?(t.collectState=e.is_collect?1:2,t.editState=t.host.loginname===t.article.author.loginname):(t.collectState=0,t.editState=!1),t.isLoading=!1,console.log("loaded")},function(){t.isLoading=!1,console.log("loaded");var e=setInterval(function(){return 0===t.time?(clearInterval(e),void t.$router.push({path:"/"})):void(t.time-=1)},1e3)})},fetchData:function(t,e){var a=this;return new i.default(function(s,n){a.$http.get(o.API.topic+t+(e?"?accesstoken="+e:"")).then(function(t){var e=t.data;e.success?s(e.data):n(e.error_msg)},function(){n()})})},handleUps:function(t,e){var a=this;this.host&&this.$http.post(""+o.API.replyUps+t+"/ups",{accesstoken:this.host.accesstoken}).then(function(t){var a=t.data;a.success&&"function"==typeof e&&e(a)},function(t){c.default.handleAjaxError(t,a)})},handleReply:function(t){this.$refs.actionBtn.setReply(t)},afterReply:function(t){var e=this;this.fetchData(this.topicId).then(function(a){e.article=a,"function"==typeof t&&t()},function(t){e.$message.error("评论刷新失败")})},handleCollect:function(t){var e=this;if(this.collectState&&this.host){var a=1===this.collectState?o.API.deCollect:o.API.collect,s={accesstoken:this.host.accesstoken,topic_id:this.topicId};this.$http.post(a,s).then(function(a){var s=a.data;s.success?e.collectState=1===e.collectState?2:1:e.$message.error(s.error_msg),"function"==typeof t&&t(e.collectState)},function(t){c.default.handleAjaxError(t,e)})}},handleEdit:function(){var t=this;console.log(23213),this.editState&&this.article&&this.$http.get(""+o.API.topic+this.article.id+"?mdrender=false").then(function(e){var a=e.data;if(a.success){var s=a.data,n=s.id,i=s.tab,o=s.title,r=s.content;t.$refs.actionBtn.editArticle({topic_id:n,tab:i,title:o,content:r})}},function(e){c.default.handleAjaxError(e,t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(6),i=a(5),o=s(i),r=a(26),c=s(r),l=a(25),u=s(l),d=a(40),f=s(d);e.default={data:function(){return{navs:[{name:"创建的文章",tag:"create"},{name:"参与的文章",tag:"reply"},{name:"收藏的文章",tag:"collect"}],isLoading:!1,isNavLoading:!1,host:null,currType:"",userData:null,articles:null,time:3}},components:{GlobalNav:c.default,ArticleList:f.default,ActionBtn:u.default},watch:{$route:function(){this.fetchData()}},mounted:function(){this.fetchData()},methods:{ready:function(t){this.host=t},fetchData:function(){var t=this;this.isLoading=!0,this.$http.get(n.API.interface+this.$route.path).then(function(e){var a=e.data;if(a.success){var s=t.navs[0].tag;t.userData=a.data,console.log(t.userData),t.hoverIdx=0,t.getArticleType(s),t.isLoading=!1}else t.$message.error(a.error_msg)},function(){t.isLoading=!1;var e=setInterval(function(){return 0===t.time?(clearInterval(e),void t.$router.push({path:"/"})):void(t.time-=1)},1e3)})},formatCreateTime:function(t){return o.default.timeFormat(t)},getArticleType:function(t){return"collect"===t?void this.showCollectTopic(t):void(!this.userData||"create"!==t&&"reply"!==t||("create"===t?this.articles=this.userData.recent_topics:this.articles=this.userData.recent_replies,this.currType=t))},showCollectTopic:function(t){var e=this;this.isNavLoading=!0,this.$http.get(n.API.topicCollect+this.userData.loginname).then(function(a){var s=a.data;s.success?(e.articles=s.data,e.currType=t):e.$message.error(s.error_msg),e.isNavLoading=!1},function(t){e.isNavLoading=!1,o.default.handleAjaxError(t,e)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(80),i=s(n);e.default={data:function(){return{doorState:"init"}},components:{Door:i.default},methods:{ready:function(){var t=this;this.doorState="start",setTimeout(function(){t.$router.push("/index")},3e3)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{visible:!1,message:"",duration:1500,type:"info",closed:!1,timer:null,onClose:null}},computed:{typeIcon:function(){switch(this.type){case"success":return"fa-check-circle";case"info":return"fa-info-circle";case"error":return"fa-ban";case"warning":return"fa-exclamation-triangle";default:return""}}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("animationend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("animationend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))}},mounted:function(){this.startTimer()}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=[{id:"543fb7abae523bbc80412b26",type:"at",has_read:!1,author:{loginname:"alsotang",avatar_url:"https://avatars.githubusercontent.com/u/1147375?v=2"},topic:{id:"542d6ecb9ecb3db94b2b3d0f",title:"adfadfadfasdf",last_reply_at:"2014-10-18T07:47:22.563Z"},reply:{id:"543fb7abae523bbc80412b24",content:"[@alsotang](/user/alsotang) 哈哈",ups:[],create_at:"2014-10-16T12:18:51.566Z"}}];e.un_read=a},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(87),i=s(n),o=a(89),r=s(o),c=a(88),l=s(c),u=a(90),d=s(u),f=[{path:"/",name:"welcome",component:d.default},{path:"/index",name:"index",component:i.default},{path:"/user/:id",name:"user",component:r.default},{path:"/topic/:id",name:"topic",component:l.default}];e.default=f},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(178),i=s(n),o={};o.install=function(t){t.prototype.$message=i.default},e.default=o},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(41),i=s(n),o=i.default.extend(a(91)),r=null,c=[],l=1,u=1101,d=function t(e){e||(e={}),"string"==typeof e&&(e={message:e});var a=e.onClose,s="message_"+l++;return e.onClose=function(){t.close(s,a)},r=new o({data:e}),r.id=s,r.vm=r.$mount(),document.body.appendChild(r.vm.$el),r.vm.visible=!0,r.dom=r.vm.$el,r.dom.style.zIndex=u+l,c.push(r),r.vm};["success","warning","info","error"].forEach(function(t){d[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,d(e)}}),d.close=function(t,e){c.every(function(a,s){return t!==a.id||("function"==typeof e&&e(c[s]),c.splice(s,1),!1)})},e.default=d},function(t,e){}]);
//# sourceMappingURL=app.4904937450f7138b90eb.js.map