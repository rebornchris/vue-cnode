webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(61),r=n(i),s=a(62),o=n(s),l=a(47),c=n(l),u=a(105),d=n(u);a(45),a(46),r.default.use(o.default),r.default.use(c.default);var f=new o.default({routes:d.default});new r.default({el:"#app",template:"<router-view></router-view>",router:f})},,,,,,,,,,,,,,function(t,e,a){a(40);var n=a(3)(a(101),a(54),null,null);t.exports=n.exports},,,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={top:"置顶",good:"精华",ask:"问答",share:"分享",job:"招聘"},n={ask:"问答",share:"分享",job:"招聘"},i="https://cnodejs.org/api/v1/",r={interface:i,getUserById:i+"user/",topics:i+"topics",topicCollect:i+"topic_collect/",collect:i+"topic_collect/collect",deCollect:i+"topic_collect/de_collect",topic:i+"topic/",topicUpdate:i+"topics/update",replyUps:i+"reply/",messageCount:i+"message/count",messages:i+"messages",messageMarkAll:i+"message/mark_all"};e.ArticleMap=a,e.ArticleCategory=n,e.API=r},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(97),r=n(i),s=a(38),o=(n(s),a(24),function(t,e,a){if(e&&t){t.data;"function"==typeof a&&a()}}),l=function(){var t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=document.createElement("div"),a=void 0;return(0,r.default)(t).every(function(n){return void 0===e.style[n]||(a=t[n],!1)}),a},c=function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=n+1<10?"0"+(n+1):n+1,s=i+1<10?"0"+i:i;return a+" - "+r+" - "+s},u=function(t){var e=new Date(t),a=(new Date-e)/1e3,n=Math.floor(a/3600/24/30),i=Math.floor(a/3600/24),r=Math.floor(a/3600),s=void 0;return s=0===r?Math.floor(a/60)+" 分钟前":0===i?r+" 小时前":0===n?i+" 天前":n+" 月前"};e.default={getAnimEventName:l,handleError:o,timeFormat:c,timeFormatCN:u}},,,,,,,,,,,,,,function(t,e,a){t.exports=a.p+"static/img/logo2.3d8d297.jpg"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,a){var n=a(3)(a(98),a(60),null,null);t.exports=n.exports},function(t,e,a){a(42);var n=a(3)(a(99),a(56),"data-v-45ea35f0",null);t.exports=n.exports},function(t,e,a){a(43);var n=a(3)(a(100),a(57),"data-v-6b6cec8d",null);t.exports=n.exports},function(t,e,a){var n=a(3)(a(102),a(58),null,null);t.exports=n.exports},function(t,e,a){a(44);var n=a(3)(a(103),a(59),null,null);t.exports=n.exports},function(t,e,a){a(41);var n=a(3)(a(104),a(55),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"globalnav globalnav--fixed"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"globalnav__brand t-pull-left",attrs:{to:"/"}},[t._v("CNode")]),t._v(" "),a("div",{staticClass:"globalnav__spinner"},[a("svg",{attrs:{version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[a("path",{attrs:{fill:"#00a9e8",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(222 50 50)"}},[a("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"0.5s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])]),t._v(" "),a("ul",{staticClass:"globalnav__nav t-pull-right"},[t._m(0),t._v(" "),a("li",{staticClass:"globalnav__link globalnav__link--withicon"},[t._m(1),t._v(" "),a("div",{staticClass:"globalnav__menu"},[a("transition",{attrs:{name:"menu-fade-slide"}},[a("div",{staticClass:"menu menu--arrowed moremenu"})])],1)])]),t._v(" "),a("ul",{staticClass:"globalnav__nav"},[t._t("default")],2)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"globalnav__link"},[a("a",{attrs:{href:"#"}},[t._v("Login")]),t._v(" "),a("div",{staticClass:"globalnav__menu globalnav__loginFormMenu"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-caret-down fa-lg",attrs:{"aria-hidden":"true"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h1",[t._v("this is user")]),t._v(" "),a("NavBar")],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"door-wrap"},[a("div",{staticClass:"door__row"},[t._m(0),t._v(" "),a("div",{staticClass:"door__loader"},[a("CircleLoading",{attrs:{state:t.circleState},on:{loaded:t.loaded}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"door__logo"},[n("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a(39),alt:"logo"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"svg-wrap"},[a("svg",{staticClass:"svg",attrs:{width:t.width+"px",height:t.height+"px",viewBox:"0 0 80 80"}},[a("path",{staticClass:"svg-bg",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}}),t._v(" "),a("path",{staticClass:"svg-circle",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("Door",{attrs:{state:t.doorState},on:{ready:t.doorIsReady}}),t._v(" "),a("NavBar",{attrs:{isLoading:t.isLoading},on:{ready:t.ready}},t._l(t.navs,function(e){return a("li",{staticClass:"globalnav__link",class:{"is-active":t.currenType===e.tag}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selectNav(e.tag)}}},[t._v(t._s(e.name))])])})),t._v(" "),a("div",{staticClass:"page_main"},[a("div",{staticClass:"container"},[t.articles&&t.articles.length>0?a("div",{staticClass:"home-content"},[a("ArticleList",{attrs:{articles:t.articles}})],1):a("p",{staticClass:"page_feedback"},[t._v("\n\t\t\t\t\t\t暂无任何文章\n\t\t\t\t\t")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h1",[t._v("this is topic")]),t._v(" "),a("NavBar")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition-group",{attrs:{tag:"ul",name:"brief-list",appear:""}},t._l(t.articles,function(e){return a("li",{key:e.id,staticClass:"article-brief"},[a("router-link",{staticClass:"article-brief__avatar",attrs:{to:{path:"/user/"+e.author.loginname}}},[a("img",{staticClass:"avatar avatar--m",attrs:{src:e.author.avatar_url}})]),t._v(" "),a("div",{staticClass:"article-brief__group"},[a("h2",{staticClass:"article-brief__title"},[a("router-link",{attrs:{to:{path:"/topic/"+e.id},title:e.title}},[t._v(t._s(e.title))])],1),t._v(" "),a("div",{staticClass:"article-brief__tags"},[e.tab?a("span",{staticClass:"tag tag--blue"},[t._v(t._s(t.getTypeName(e.tab)))]):t._e()]),t._v(" "),a("div",{staticClass:"article-brief__meta"},["undefined"!=typeof e.reply_count?a("span",{staticClass:"article-brief__reply"},[a("i",{staticClass:"fa fa-comment"}),t._v("  "+t._s(e.reply_count)+" 回复\n      ")]):t._e(),t._v(" "),"undefined"!=typeof e.visit_count?a("span",{staticClass:"article-brief__view"},[a("i",{staticClass:"fa fa-eye"}),t._v("  "+t._s(e.visit_count)+" 访问\n      ")]):t._e(),t._v(" "),a("span",{staticClass:"article-brief__replyTime"},[t._v(t._s(t.replyTime(e.last_reply_at)))])])]),t._v(" "),a("div",{staticClass:"article-brief__ribbons"},[e.top?a("span",{staticClass:"ribbon ribbon--green"},[t._v("置顶")]):t._e(),t._v(" "),e.good?a("span",{staticClass:"ribbon ribbon--red"},[t._v("精华")]):t._e()])],1)}))},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(24),r=a(25),s=n(r);e.default={props:{articles:{type:Array}},methods:{getTypeName:function(t){return i.ArticleMap[t]||""},replyTime:function(t){return s.default.timeFormatCN(t)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(25),r=n(i),s=a(50),o=n(s);e.default={data:function(){return{animated:!1,circleState:"init",animEventName:""}},components:{CircleLoading:o.default},props:{state:{type:String,default:"hide"}},watch:{state:function(t){this.circleState=t}},mounted:function(){var t=this;this.animEventName=r.default.getAnimEventName();var e=function e(){t.animEventName&&t.$el.removeEventListener(t.animEventName,e),t.$emit("ready")};this.$el.classList.add("loading"),this.animEventName?this.$el.addEventListener(this.animEventName,e,!1):e()},methods:{loaded:function(){this.$el.classList.remove("loading"),this.$el.classList.add("loaded")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{$circle:null,totalLen:0,preLoading:!1}},props:{width:{type:Number,default:60,validator:function(t){return t>=10}},height:{type:Number,default:60,validator:function(t){return t>=10}},state:{default:"start"}},mounted:function(){this.$circle=this.$el.querySelector(".svg-circle"),this.totalLen=this.$circle.getTotalLength(),this.init()},watch:{state:function(t){switch(t){case"start":this.startLoading();break;case"end":this.preLoading&&this.endLoading();break;case"init":this.init();break;default:return}}},methods:{init:function(){this.$circle.style.strokeDasharray=this.$circle.style.strokeDashoffset=this.totalLen},startLoading:function(){var t=this,e=0,a=window.setInterval(function(){e=Math.min(e+.1*Math.random(),1),t.draw(e),1-e<=.3&&(window.clearInterval(a),t.preLoading=!0,t.state="end","end"===t.state&&t.endLoading())},80)},draw:function(t){this.$circle.style.strokeDashoffset=this.totalLen*(1-t)},endLoading:function(){var t=this;this.preLoading=!1,this.draw(1),window.setTimeout(function(){t.$emit("loaded")},500)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(38),r=n(i),s=a(24),o=a(25),l=n(o),c=a(14),u=n(c),d=a(48),f=n(d),v=a(49),_=n(v);e.default={data:function(){var t=[{name:"全部",tag:"all"},{name:"精华",tag:"good"},{name:"分享",tag:"share"},{name:"问答",tag:"ask"},{name:"招聘",tag:"job"},{name:"测试",tag:"test"}];return{navs:t,doorState:"init",isLoading:!1,loadMoreType:0,isLoadingMore:!1,page:1,limit:0,currenType:"",articles:null,host:null}},components:{NavBar:u.default,ArticleList:f.default,Door:_.default},mounted:function(){},methods:{doorIsReady:function(){var t=this;this.doorState="start",this.getArticleType(this.navs[0].tag,function(){t.doorState="end",t.addScrollEvt()})},ready:function(t){this.host=t},getArticleType:function(t,e){var a=this;this.fetchData(t).then(function(t){console.log(a===window),a.articles=t.data.data,a.currenType=t.type,a.page=t.page,"function"==typeof e&&e()},function(t){l.default.handleError(t,a)})},fetchData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n="?tab="+("all"===t?"":t)+"&page="+e+"&limit="+a,i=this;return new r.default(function(a,r){i.$http.get(s.API.topics+n).then(function(n){a({data:n.data,type:t,page:e})},function(t){r(t)})})},selectNav:function(t){var e=this;this.isLoading=!0,this.getArticleType(t,function(){e.isLoading=!1})},addScrollEvt:function(){var t=this,e=window.innerHeight,a=document.documentElement,n=document.body;this.scrollEv=function(){if(!t.isLoadingMore){var i=Math.max(a.clientHeight,a.scrollHeight),r=window.pageYOffset||n.scrollTop||a.scrollTop||0;if(r+e-i>=0){if(2===t.loadMoreType)return void window.removeEventListener("scroll",t.scrollEv);t.loadMore()}}},window.addEventListener("scroll",this.scrollEv,!1)},loadMore:function(){var t=this;this.isLoadingMore=!0,this.loadMoreType=0,setTimeout(function(){var e=t.page,a=t.limit;t.fetchData(t.currenType,e+=1,a=20).then(function(a){var n=a.data;if(n.success){var i=n.data;i instanceof Array&&i.length>0?t.articles=t.articles.concat(i):(t.loadMoreType=2,window.removeEventListener("scroll",t.scrollEV),console.log(123123)),t.page=e}else t.loadMoreType=1,l.default.handleAjaxError(n,t);t.isLoadingMore=!1},function(e){l.default.handleAjaxError(e,t),t.loadMoreType=1,t.isLoadingMore=!1})},1e3)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(14),r=n(i);e.default={components:{NavBar:r.default}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(14),r=n(i);e.default={components:{NavBar:r.default}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(51),r=n(i),s=a(53),o=n(s),l=a(52),c=n(l),u=[{path:"/",name:"index",component:r.default},{path:"/user",name:"user",component:o.default},{path:"/topic",name:"topic",component:c.default}];e.default=u},function(t,e){}]);
//# sourceMappingURL=app.0ea09dfaf60211c52043.js.map