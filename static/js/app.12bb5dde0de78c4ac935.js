webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(63),s=n(i),r=a(64),o=n(r),l=a(47),c=n(l),u=a(108),d=n(u);a(45),a(46),s.default.use(o.default),s.default.use(c.default);var f=new o.default({routes:d.default});new s.default({el:"#app",template:"<router-view></router-view>",router:f})},,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(99),s=n(i),r=a(26),o=n(r),l=a(15),c=function(t,e,a){return new o.default(function(n,i){var r=new XMLHttpRequst;if(r.onload=function(){r.status>=200&&r.status<400?n(JSON.parse(r.responseText)):i()},r.onerror=function(){i("服务器异常")},"get"===t)r.open("GET",e,!0),r.send();else if("post"===t){var o=" ";a&&((0,s.default)(a).forEach(function(t){o+="&"+t+"="+a[t]}),o=o.substring(1)),r.open("POST",e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(o)}})},u=function(t,e,a){if(e&&t){var n=t.data;e.$message.error(n.success===!1?n.error_msg:"服务器异常"),"function"==typeof a&&a()}},d={get:function(t){var e=document.cookie,a=encodeURIComponent(t)+"=",n=e.indexOf(a),i=null;if(n>-1){var s=e.indexOf(";",n);s===-1&&(s=e.length),i=decodeURIComponent(e.substring(n+a.length,s))}return i},set:function(t,e,a,n,i,s){var r=encodeURIComponent(t)+"="+encodeURIComponent(e);a instanceof Date&&(r+="; expires="+a.toGMTString()),n&&(r+="; path="+n),i&&(r+="; domain="+i),s&&(r+="; secure"),document.cookie=r},unset:function(t,e,a,n){(void 0).set(t,"",e,a,n)}},f=function(t){return new o.default(function(e,a){var n=c("get",l.API.messageCount+"?accesstoken="+t);n.then(function(t){t.success?e(t.data):a(t.error_msg)},function(){a("获取未读信息失败")})})},v=function(t){return new o.default(function(e,a){var n=t||d.get("token");if(!n)return void e(null);var i=c("post",l.API.interface+"accesstoken",{accesstoken:n});i.then(function(i){if(i.success){if(t){var s=new Date;s.setTime(s.getTime()+6048e5),d.set("token",t,s)}f(n).then(function(t){i.notifiesCount=t,i.accesstoken=n,e(i)},function(t){a(t)})}else a(i.error_msg)},function(){a("getHost：服务器异常")})})},_=function(){var t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=document.createElement("div"),a=void 0;return(0,s.default)(t).every(function(n){return void 0===e.style[n]||(a=t[n],!1)}),a},p=function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth(),i=e.getDate(),s=n+1<10?"0"+(n+1):n+1,r=i+1<10?"0"+i:i;return a+" - "+s+" - "+r},h=function(t){var e=new Date(t),a=(new Date-e)/1e3,n=Math.floor(a/3600/24/30),i=Math.floor(a/3600/24),s=Math.floor(a/3600),r=void 0;return r=0===s?Math.floor(a/60)+" 分钟前":0===i?s+" 小时前":0===n?i+" 天前":n+" 月前"};e.default={getAnimEventName:_,handleAjaxError:u,getHost:v,CookieUtil:d,timeFormat:p,timeFormatCN:h}},,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={top:"置顶",good:"精华",ask:"问答",share:"分享",job:"招聘"},n={ask:"问答",share:"分享",job:"招聘"},i="https://cnodejs.org/api/v1/",s={interface:i,getUserById:i+"user/",topics:i+"topics",topicCollect:i+"topic_collect/",collect:i+"topic_collect/collect",deCollect:i+"topic_collect/de_collect",topic:i+"topic/",topicUpdate:i+"topics/update",replyUps:i+"reply/",messageCount:i+"message/count",messages:i+"messages",messageMarkAll:i+"message/mark_all"};e.ArticleMap=a,e.ArticleCategory=n,e.API=s},function(t,e,a){a(40);var n=a(3)(a(104),a(55),null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){t.exports=a.p+"static/img/logo2.3d8d297.jpg"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,a){a(44);var n=a(3)(a(100),a(61),"data-v-abf72972",null);t.exports=n.exports},function(t,e,a){var n=a(3)(a(101),a(62),null,null);t.exports=n.exports},function(t,e,a){a(42);var n=a(3)(a(102),a(57),"data-v-45ea35f0",null);t.exports=n.exports},function(t,e,a){a(43);var n=a(3)(a(103),a(58),"data-v-6b6cec8d",null);t.exports=n.exports},function(t,e,a){var n=a(3)(a(105),a(59),null,null);t.exports=n.exports},function(t,e,a){var n=a(3)(a(106),a(60),null,null);t.exports=n.exports},function(t,e,a){a(41);var n=a(3)(a(107),a(56),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"globalnav globalnav--fixed"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"globalnav__brand t-pull-left",attrs:{to:"/"}},[t._v("CNode")]),t._v(" "),a("div",{staticClass:"globalnav__spinner"},[a("svg",{attrs:{version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[a("path",{attrs:{fill:"#00a9e8",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",transform:"rotate(222 50 50)"}},[a("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"0.5s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])]),t._v(" "),a("ul",{staticClass:"globalnav__nav t-pull-right"},[t._m(0),t._v(" "),a("li",{staticClass:"globalnav__link globalnav__link--withicon"},[t._m(1),t._v(" "),a("div",{staticClass:"globalnav__menu"},[a("transition",{attrs:{name:"menu-fade-slide"}},[a("div",{staticClass:"menu menu--arrowed moremenu"})])],1)])]),t._v(" "),a("ul",{staticClass:"globalnav__nav"},[t._t("default")],2)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"globalnav__link"},[a("a",{attrs:{href:"#"}},[t._v("Login")]),t._v(" "),a("div",{staticClass:"globalnav__menu globalnav__loginFormMenu"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-caret-down fa-lg",attrs:{"aria-hidden":"true"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h1",[t._v("this is user")]),t._v(" "),a("NavBar")],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"door-wrap"},[a("div",{staticClass:"door__row"},[t._m(0),t._v(" "),a("div",{staticClass:"door__loader"},[a("CircleLoading",{attrs:{state:t.circleState},on:{loaded:t.loaded}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"door__logo"},[n("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a(39),alt:"logo"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"svg-wrap"},[a("svg",{staticClass:"svg",attrs:{width:t.width+"px",height:t.height+"px",viewBox:"0 0 80 80"}},[a("path",{staticClass:"svg-bg",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}}),t._v(" "),a("path",{staticClass:"svg-circle",attrs:{d:"M40,10C57.351,10,71,23.649,71,40.5S57.351,71,40.5,71 S10,57.351,10,40.5S23.649,10,40.5,10z"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("Door",{attrs:{state:t.doorState},on:{ready:t.doorIsReady}}),t._v(" "),a("NavBar",{attrs:{isLoading:t.isLoading},on:{ready:t.ready}},t._l(t.navs,function(e){return a("li",{staticClass:"globalnav__link",class:{"is-active":t.currenType===e.tag}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.selectNav(e.tag)}}},[t._v(t._s(e.name))])])})),t._v(" "),a("div",{staticClass:"page_main"},[a("div",{staticClass:"container"},[t.articles&&t.articles.length>0?a("div",{staticClass:"home-content"},[a("ArticleList",{attrs:{articles:t.articles}})],1):a("p",{staticClass:"page_feedback"},[t._v("\n\t\t\t\t\t\t暂无任何文章\n\t\t\t\t\t")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("GlobalNav",{on:{ready:t.ready}}),t._v(" "),a("div",{staticClass:"page__main"},[a("div",{staticClass:"container"},[t.article&&!t.isLoading?a("div",[a("VC-Article",{attrs:{article:t.article}})],1):a("div",{staticClass:"page__feedback"},[t._v("\n        文章不存在, "+t._s(t.time)+" 秒后跳转至首页\n      ")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-container"},[a("article",[a("h1",{staticClass:"article__title"},[t._v(t._s(t.article.title))]),t._v(" "),a("div",{staticClass:"article__meta-wrap clearfix"},[a("div",{staticClass:"article__btn-wrap"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.editState,expression:"editState"}],staticClass:"article__edit-btn",on:{click:t.edit}},[a("i",{staticClass:"fa fa-pencil-square-o fa-2x",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.collectState,expression:"collectState !== 0"}],staticClass:"article__like-btn",on:{click:t.collect}})]),t._v(" "),a("div",{staticClass:"article__author-wrap"},[a("router-link",{staticClass:"article__author",attrs:{to:{path:"/user/"+t.article.author.loginname}}},[a("img",{staticClass:"avatar avatar--s",attrs:{src:t.article.author.avatar_url}}),t._v("\n          "+t._s(t.article.author.loginname)+"\n        ")]),t._v(" "),a("span",{staticClass:"article__reply-time"},[t._v("\n          "+t._s(t.formatCreateTime(t.article.create_at))+"\n        ")]),t._v(" "),a("div",{staticClass:"article__meta"},[a("span",[a("i",{staticClass:"fa fa-eye"}),t._v("  "+t._s(t.article.visit_count)+" 访问\n        ")]),t._v(" "),a("span",[a("i",{staticClass:"fa fa-comment"}),t._v("  "+t._s(t.article.reply_count)+" 回复\n        ")])])],1)]),t._v(" "),a("div",{staticClass:"article__content",domProps:{innerHTML:t._s(t.article.content)}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition-group",{attrs:{tag:"ul",name:"brief-list",appear:""}},t._l(t.articles,function(e){return a("li",{key:e.id,staticClass:"article-brief"},[a("router-link",{staticClass:"article-brief__avatar",attrs:{to:{path:"/user/"+e.author.loginname}}},[a("img",{staticClass:"avatar avatar--m",attrs:{src:e.author.avatar_url}})]),t._v(" "),a("div",{staticClass:"article-brief__group"},[a("h2",{staticClass:"article-brief__title"},[a("router-link",{attrs:{to:{path:"/topic/"+e.id},title:e.title}},[t._v(t._s(e.title))])],1),t._v(" "),a("div",{staticClass:"article-brief__tags"},[e.tab?a("span",{staticClass:"tag tag--blue"},[t._v(t._s(t.getTypeName(e.tab)))]):t._e()]),t._v(" "),a("div",{staticClass:"article-brief__meta"},["undefined"!=typeof e.reply_count?a("span",{staticClass:"article-brief__reply"},[a("i",{staticClass:"fa fa-comment"}),t._v("  "+t._s(e.reply_count)+" 回复\n      ")]):t._e(),t._v(" "),"undefined"!=typeof e.visit_count?a("span",{staticClass:"article-brief__view"},[a("i",{staticClass:"fa fa-eye"}),t._v("  "+t._s(e.visit_count)+" 访问\n      ")]):t._e(),t._v(" "),a("span",{staticClass:"article-brief__replyTime"},[t._v(t._s(t.replyTime(e.last_reply_at)))])])]),t._v(" "),a("div",{staticClass:"article-brief__ribbons"},[e.top?a("span",{staticClass:"ribbon ribbon--green"},[t._v("置顶")]):t._e(),t._v(" "),e.good?a("span",{staticClass:"ribbon ribbon--red"},[t._v("精华")]):t._e()])],1)}))},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),s=n(i);e.default={data:function(){return{$likeBtn:null}},props:{article:{require:!0},collectState:{type:Number,default:0,validator:function(t){return t>=0&&t<=2}},editState:{type:Boolean,default:!1}},watch:{collectState:function(t){var e=this;this.$likeBtn||(this.$likeBtn=this.$el.querySelector(".article__like-btn")),1===t?(this.$likeBtn.classList.add("is-active","animating"),this.$likeBtn.addEventListener("animationend",function(){e.$likeBtn.classList.remove("animating")},!1)):2===t&&this.$likeBtn.classList.remove("is-active")}},methods:{formatCreateTime:function(t){return s.default.timeFormatCN(t)},collect:function(){this.$emit("collect")},edit:function(){this.$emit("edit")}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(15),s=a(9),r=n(s);e.default={props:{articles:{type:Array}},methods:{getTypeName:function(t){return i.ArticleMap[t]||""},replyTime:function(t){return r.default.timeFormatCN(t)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),s=n(i),r=a(51),o=n(r);e.default={data:function(){return{animated:!1,circleState:"init",animEventName:""}},components:{CircleLoading:o.default},props:{state:{type:String,default:"hide"}},watch:{state:function(t){this.circleState=t}},mounted:function(){var t=this;this.animEventName=s.default.getAnimEventName();var e=function e(){t.animEventName&&t.$el.removeEventListener(t.animEventName,e),t.$emit("ready")};this.$el.classList.add("loading"),this.animEventName?this.$el.addEventListener(this.animEventName,e,!1):e()},methods:{loaded:function(){this.$el.classList.remove("loading"),this.$el.classList.add("loaded")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{$circle:null,totalLen:0,preLoading:!1}},props:{width:{type:Number,default:60},height:{type:Number,default:60},state:{default:"start"}},mounted:function(){this.$circle=this.$el.querySelector(".svg-circle"),this.totalLen=this.$circle.getTotalLength(),this.init()},watch:{state:function(t){switch(t){case"start":this.startLoading();break;case"end":this.preLoading&&this.endLoading();break;case"init":this.init();break;default:return}}},methods:{init:function(){this.$circle.style.strokeDasharray=this.$circle.style.strokeDashoffset=this.totalLen},startLoading:function(){var t=this,e=0,a=window.setInterval(function(){e=Math.min(e+.1*Math.random(),1),t.draw(e),1-e<=.3&&(window.clearInterval(a),t.preLoading=!0,t.state="end","end"===t.state&&t.endLoading())},80)},draw:function(t){this.$circle.style.strokeDashoffset=this.totalLen*(1-t)},endLoading:function(){var t=this;this.preLoading=!1,this.draw(1),window.setTimeout(function(){t.$emit("loaded")},500)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(26),s=n(i),r=a(15),o=a(9),l=n(o),c=a(16),u=n(c),d=a(49),f=n(d),v=a(50),_=n(v);e.default={data:function(){var t=[{name:"全部",tag:"all"},{name:"精华",tag:"good"},{name:"分享",tag:"share"},{name:"问答",tag:"ask"},{name:"招聘",tag:"job"},{name:"测试",tag:"test"}];return{navs:t,doorState:"init",isLoading:!1,loadMoreType:0,isLoadingMore:!1,page:1,limit:0,currenType:"",articles:null,host:null}},components:{NavBar:u.default,ArticleList:f.default,Door:_.default},mounted:function(){},methods:{doorIsReady:function(){var t=this;this.doorState="start",this.getArticleType(this.navs[0].tag,function(){t.doorState="end",t.addScrollEvt()})},ready:function(t){this.host=t},getArticleType:function(t,e){var a=this;this.fetchData(t).then(function(t){a.articles=t.data.data,a.currenType=t.type,a.page=t.page,"function"==typeof e&&e()},function(t){l.default.handleError(t,a)})},fetchData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n="?tab="+("all"===t?"":t)+"&page="+e+"&limit="+a,i=this;return new s.default(function(a,s){i.$http.get(r.API.topics+n).then(function(n){a({data:n.data,type:t,page:e})},function(t){s(t)})})},selectNav:function(t){var e=this;this.isLoading=!0,this.getArticleType(t,function(){e.isLoading=!1})},addScrollEvt:function(){var t=this,e=window.innerHeight,a=document.documentElement,n=document.body;this.scrollEv=function(){if(!t.isLoadingMore){var i=Math.max(a.clientHeight,a.scrollHeight),s=window.pageYOffset||n.scrollTop||a.scrollTop||0;if(s+e-i>=0){if(2===t.loadMoreType)return void window.removeEventListener("scroll",t.scrollEv);t.loadMore()}}},window.addEventListener("scroll",this.scrollEv,!1)},loadMore:function(){var t=this;this.isLoadingMore=!0,this.loadMoreType=0,setTimeout(function(){var e=t.page,a=t.limit;t.fetchData(t.currenType,e+=1,a=20).then(function(a){var n=a.data;if(n.success){var i=n.data;i instanceof Array&&i.length>0?t.articles=t.articles.concat(i):(t.loadMoreType=2,window.removeEventListener("scroll",t.scrollEV),console.log(123123)),t.page=e}else t.loadMoreType=1,l.default.handleAjaxError(n,t);t.isLoadingMore=!1},function(e){l.default.handleAjaxError(e,t),t.loadMoreType=1,t.isLoadingMore=!1})},1e3)}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(26),s=n(i),r=a(15),o=a(9),l=(n(o),a(16)),c=n(l),u=a(48),d=n(u);e.default={data:function(){return{isLoading:!1,time:3,host:null,topicId:0,article:null,collectState:0,editState:!1}},mounted:function(){this.init()},watch:{$route:function(){this.init()}},components:{GlobalNav:c.default,"VC-Article":d.default},methods:{ready:function(t){this.host=t},init:function(){var t=this;this.isLoading=!0;var e=this.$route.path;this.topicId=e.substring(e.lastIndexOf("/")+1),this.fetchData(this.topicId,this.host&&this.host.accesstoken).then(function(e){t.article=e,t.host?(t.collectState=e.is_collect?1:2,t.editState=t.host.loginname===t.article.author.loginname):(t.collectState=0,t.editState=!1),t.isLoading=!1},function(){t.isLoading=!1;var e=setInterval(function(){return 0===t.time?(clearInterval(e),void t.$router.push({path:"/"})):void(t.time-=1)},1e3)})},fetchData:function(t,e){var a=this;return new s.default(function(n,i){a.$http.get(r.API.topic+t+(e?"?accesstoken="+e:"")).then(function(t){var e=t.data;e.success?n(e.data):i(e.error_msg)},function(){i()})})}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(16),s=n(i);e.default={components:{NavBar:s.default}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(52),s=n(i),r=a(54),o=n(r),l=a(53),c=n(l),u=[{path:"/",name:"index",component:s.default},{path:"/user/:id",name:"user",component:o.default},{path:"/topic/:id",name:"topic",component:c.default}];e.default=u},function(t,e){}]);
//# sourceMappingURL=app.12bb5dde0de78c4ac935.js.map